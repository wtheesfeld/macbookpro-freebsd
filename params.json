{
  "name": "Macbookpro-FreeBSD",
  "tagline": "Running FreeBSD 10.3-RELEASE on a mid 2012 MacBook Pro (9,2)",
  "body": "#CPU Scaling\r\n\r\n    Place the following lines in your /etc/rc.conf:\r\n\r\n        powerd_enable=\"YES\"\r\n        powerd_flags=\"-a adaptive -b adaptive\"\r\n\r\n#Wireless\r\n\r\nWireless is bcm4331, neither bwi or bwn drivers work, needs version 5 drivers\r\n\r\n    temp fix: using dwa-131 dongle\r\n    /boot/loader.conf:\r\n\r\n        if_rsu_load=\"YES\"\r\n        legal.realtek.license_ack=1\r\n        rsu_rtl18712fw_load=\"YES\"\r\n\r\n#Keyboard Layout\r\n\r\nIn the tty console the backtick/tilde key does nothing, and in Xorg the backtick/tilde key gives < and >. We need to load some custom keyboard layouts for both.\r\n\r\n    TTY Fix: load new keyboard layout\r\n    Download this keyboard layout: https://github.com/wtheesfeld/macbookpro-freebsd/blob/master/us.macbook.kbd\r\n    Load it (as root. use sudo or su):\r\n\r\n        mv us.macbook.kbd /usr/share/syscons/keymaps/us.macbook.kbd\r\n        chmod 444 /usr/share/syscons/keymaps/us.macbook.kbd\r\n        kbdcontrol -l /usr/share/syscons/keymaps/us.macbook.kbd \r\n\r\n    To make this permanent system-wide, edit /etc/profile:\r\n\r\n         kbdcontrol -l /usr/share/syscons/keymaps/us.macbook.kbd\r\n\r\n    Xorg Fix: load new keyboard map\r\n    Download this keyboard map: https://github.com/wtheesfeld/macbookpro-freebsd/blob/master/.xkbmap\r\n    Load it:\r\n\r\n        xkbcomp -w 0 .xkbmap $DISPLAY\r\n\r\n    To load the keymap every time Xorg starts, place that line in your ~/.xinitrc\r\n\r\n#Touchpad\r\n\r\nTouchpad support works with ums driver automatically loaded, but no multi-touch.\r\n\r\n    Fix: load ATP driver\r\n    /boot/loader.conf:\r\n\r\n        atp_load=\"YES\"\r\n\r\n#Suspend/Resume on lid close/open & Screen Dimming\r\n\r\nLoading ACPI_VIDEO module will automatically brighten screen when AC is plugged in, and automatically dim screen when AC is unplugged. It will also give the ability to suspend on lid close and resume when opening lid.\r\n\r\n    Fix: load ACPI_VIDEO driver\r\n    /boot/loader.conf:\r\n\r\n        acpi_video_load=\"YES\"\r\n\r\n    For suspend/resume\r\n    /etc/sysctl.conf:\r\n\r\n        hw.acpi.lid_switch_state=S3\r\n\r\n#SMC Sensors (temps and fan control)\r\nNOTE: I patched against the 10.3 RELEASE source\r\nPatch has been submitted to PR (https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=211513)\r\n\r\nDownload and apply this patch:\r\n\r\n    https://github.com/wtheesfeld/macbookpro-freebsd/blob/master/asmc_92.patch\r\n    move it to /usr/src/sys/dev/asmc:\r\n\r\n         mv asmc_92.patch /usr/sys/dev/asmc\r\n\r\n    apply the patch\r\n\r\n         cd /usr/src/sys/dev/asmc; patch < asmc_92.patch\r\n\r\n    Now make the new module\r\n\r\n         cd /usr/src/sys/modules/asmc; make\r\n\r\n    Make backup of old module:\r\n\r\n          cp /boot/kernel/asmc.ko /boot/kernel/asmc.old\r\n\r\n    Copy new module\r\n\r\n          cp /usr/src/sys/modules/asmc/asmc.ko /boot/kernel/asmc.ko\r\n\r\n    Test new module\r\n\r\n          kldload asmc\r\n\r\n    If it loads ok, load module at boot:\r\n    /boot/loader.conf:\r\n\r\n            asmc_load=\"YES\"\r\n\r\n After loading module, the following change can be made to spin the fan a little faster:\r\n\r\n    /boot/loader.conf:\r\n\r\n             dev.asmc.0.fan.0.minspeed=3000\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}